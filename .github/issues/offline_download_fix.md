# オフラインダウンロードが途中で停止する問題の修正

## 問題の概要

オフラインダウンロード機能を実行中にダウンロードが途中で停止することがある。

## 原因分析

1. **localStorage容量制限**: ブラウザのlocalStorageは通常5〜10MBの制限があり、大量のチャプターを保存すると容量オーバーになる
2. **GitHub APIレート制限**: 認証なしで60リクエスト/時、PAT使用時でも5000リクエスト/時の制限
3. **ネットワークエラーの無視**: 一時的なネットワーク障害でエラーが発生しても、リトライせずスキップされる

## 修正内容

- localStorage容量オーバー時の早期検出と適切なエラーメッセージ表示
- GitHub APIレート制限(403/429)の検出とリトライ処理
- ネットワークエラー時の最大3回リトライ
- レート制限ヒット後はAPI呼び出し間隔を自動延長
- ダウンロードキャンセル検出機能

## 対象ファイル

- src/App.jsx

## ステータス

- [x] 修正済み (2026-01-17)
