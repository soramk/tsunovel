# オフラインストレージ選択機能の追加

## 実装内容

オフラインデータの保存先として、LocalStorage と IndexedDB を選択できる機能を追加しました。

## ストレージオプションの比較

### localStorage

| 項目 | 内容 |
|------|------|
| **容量** | 5-10MB (ブラウザにより異なる) |
| **特徴** | シンプル、同期的、小規模データ向け |
| **推奨** | 短編小説、数十話程度 |
| **欠点** | 容量制限が厳しい、大量データで遅くなる |

### IndexedDB

| 項目 | 内容 |
|------|------|
| **容量** | 50MB〜数GB (利用可能ディスク容量の最大50%程度) |
| **特徴** | 非同期、大規模データ向け、高速検索 |
| **推奨** | 長編小説、数百話以上 |
| **欠点** | APIがやや複雑 (本モジュールで抽象化済み) |

### ブラウザ別 IndexedDB 容量目安

- **Chrome**: ディスク容量の最大80%、オリジンごとに最大60%
- **Firefox**: ディスク容量の最大50%、オリジンごとに最大2GB
- **Safari**: 初回1GB、ユーザー許可で拡張可能
- **Edge**: Chromeと同様

## 実装ファイル

- `src/utils/offlineStorage.js` - 新規作成（ストレージ管理モジュール）
- `src/App.jsx` - ストレージモジュール統合

## 主な機能

1. **ストレージタイプ選択**: サイドバーからlocalStorage/IndexedDBを切り替え可能
2. **データマイグレーション**: localStorageからIndexedDBへの移行機能
3. **ストレージ使用量表示**: 現在の使用量と容量を表示
4. **容量オーバー検出**: 保存失敗時に適切なエラーメッセージを表示

## ステータス

- [x] ストレージモジュール作成済み (2026-01-17)
- [x] App.jsx統合済み (2026-01-17)
- [ ] UI設定パネル追加（サイドバーへの追加は別途実装が必要）
